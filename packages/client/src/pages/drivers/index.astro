---
import type { ResponseTypes } from "f1racepanel-server";
import PageLayout from "../../layouts/PageLayout.astro";
import { getAllDrivers, toDriverPath } from "../../services/drivers";
import { getFlagEmoji as emoji } from "../../services/utils";
import Card from "../../components/Card.astro";

const drivers = await getAllDrivers();
---

<PageLayout title="Drivers" titleText="Drivers">
  {
    drivers.map((driver: ResponseTypes.Driver) => {
      return (
        <Card title={driver.name}>
          <h3>
            Nationality: {driver.nationality} {emoji(driver.nationality)}
          </h3>
          <p>Debut Season: 2000</p>
          <p>Wins: 0</p>
          <p>Championships: 0</p>
          <a
            href={`/drivers/${toDriverPath(driver.name)}`}
            class="btn btn-primary"
          >
            Visit
          </a>
        </Card>
      );
    })
  }
</PageLayout>
